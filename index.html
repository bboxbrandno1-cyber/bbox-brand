<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBOX BRAND | Stealth Luxury</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #000; color: #fff; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .nav-blur { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); background: rgba(0,0,0,0.8); }
        #admin-panel { display: none; }
        .luxury-card { transition: all 0.5s ease; border: 1px solid #111; }
        .luxury-card:hover { border-color: #444; }
    </style>
</head>
<body class="bg-black">

    <nav class="fixed top-0 w-full z-50 nav-blur border-b border-zinc-900 h-16">
        <div class="max-w-7xl mx-auto h-full px-6 flex justify-between items-center">
            <h1 class="font-serif text-2xl font-bold tracking-widest text-white">BBOX</h1>
            <div class="flex space-x-6">
                <button onclick="showStore()" class="text-[10px] font-bold uppercase tracking-widest text-zinc-400 hover:text-white">Store</button>
                <button onclick="promptLogin()" class="text-[10px] font-bold uppercase tracking-widest text-zinc-400 hover:text-white">Admin</button>
            </div>
        </div>
    </nav>

    <div id="store-view">
        <section class="relative h-[70vh] flex items-center justify-center overflow-hidden">
            <img src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=2000" class="absolute inset-0 w-full h-full object-cover opacity-40 grayscale">
            <div class="relative text-center px-6">
                <h2 class="text-6xl md:text-8xl font-serif italic mb-4">Stealth Luxury</h2>
                <p class="tracking-[0.5em] text-xs uppercase text-zinc-400">The New Standard</p>
            </div>
        </section>

        <main class="max-w-7xl mx-auto px-6 py-20">
            <div id="product-display" class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <p class="col-span-full text-center text-zinc-500 animate-pulse">Loading Articles...</p>
            </div>
        </main>
    </div>

    <div id="admin-panel" class="max-w-4xl mx-auto px-6 py-32">
        <h2 class="text-3xl font-serif font-bold uppercase tracking-widest mb-12 border-b border-zinc-800 pb-4">Admin Control</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-zinc-950 p-8 mb-12 border border-zinc-900">
            <input id="pName" placeholder="PRODUCT NAME" class="bg-transparent border-b border-zinc-800 py-2 outline-none text-xs font-bold text-white">
            <input id="pPrice" type="number" placeholder="PRICE (PKR)" class="bg-transparent border-b border-zinc-800 py-2 outline-none text-xs font-bold text-white">
            <input id="pImg" placeholder="IMAGE URL (Link)" class="bg-transparent border-b border-zinc-800 py-2 outline-none text-xs font-bold text-white">
            <button onclick="uploadProduct()" class="md:col-span-2 bg-white text-black py-4 text-xs font-bold uppercase tracking-widest hover:bg-zinc-200">Add to Collection</button>
        </div>
        <div id="admin-product-list" class="space-y-4"></div>
    </div>

    <script>
        // Firebase Config (Using your keys)
        const firebaseConfig = {
            apiKey: "AIzaSyB-gVlpH47-1wmlOWamEjcRlbOXl_JKafI",
            databaseURL: "https://bboxbrand-b7f60-default-rtdb.firebaseio.com",
            projectId: "bboxbrand-b7f60"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function showStore() {
            document.getElementById('store-view').style.display = 'block';
            document.getElementById('admin-panel').style.display = 'none';
        }

        function promptLogin() {
            const pass = prompt("Enter Admin Password:");
            if(pass === "BBOX2026") {
                document.getElementById('store-view').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'block';
                loadAdminProducts();
            } else {
                alert("Access Denied");
            }
        }

        function uploadProduct() {
            const name = document.getElementById('pName').value;
            const price = document.getElementById('pPrice').value;
            const img = document.getElementById('pImg').value;
            if(name && price && img) {
                db.ref('products').push({ name, price, img });
                alert("Product Added Successfully!");
                document.getElementById('pName').value = '';
                document.getElementById('pPrice').value = '';
                document.getElementById('pImg').value = '';
            }
        }

        // Live Load Products for Store
        db.ref('products').on('value', (snap) => {
            let html = "";
            snap.forEach((child) => {
                const p = child.val();
                html += `
                <div class="luxury-card group cursor-pointer">
                    <div class="aspect-[3/4] overflow-hidden bg-zinc-900 relative">
                        <img src="${p.img}" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700">
                    </div>
                    <div class="mt-6 text-center">
                        <h3 class="text-[10px] font-bold uppercase tracking-widest mb-2">${p.name}</h3>
                        <p class="text-xs font-bold text-zinc-400">Rs. ${p.price}</p>
                    </div>
                </div>`;
            });
            document.getElementById('product-display').innerHTML = html || "<p class='col-span-full text-center'>No Products Yet.</p>";
        });

        function loadAdminProducts() {
            db.ref('products').on('value', (snap) => {
                let html = "";
                snap.forEach((child) => {
                    const p = child.val();
                    html += `
                    <div class="flex justify-between items-center border-b border-zinc-900 pb-4">
                        <div class="flex items-center space-x-4">
                            <img src="${p.img}" class="w-10 h-12 object-cover grayscale">
                            <div>
                                <h4 class="text-[10px] font-bold uppercase">${p.name}</h4>
                                <p class="text-[9px] text-zinc-500">Rs. ${p.price}</p>
                            </div>
                        </div>
                        <button onclick="deleteProduct('${child.key}')" class="text-[10px] text-red-900 hover:text-red-500 font-bold uppercase">Remove</button>
                    </div>`;
                });
                document.getElementById('admin-product-list').innerHTML = html;
            });
        }

        function deleteProduct(key) {
            if(confirm("Delete this product?")) {
                db.ref('products').child(key).remove();
            }
        }
    </script>
</body>
</html>
