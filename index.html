<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBOX BRAND | Stealth Luxury</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --black: #000000;
            --white: #ffffff;
            --zinc-50: #fafafa;
            --zinc-100: #f4f4f5;
            --zinc-800: #27272a;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--white);
            color: var(--black);
            margin: 0;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }
        .font-serif { font-family: 'Playfair Display', serif; }
        html { scroll-behavior: smooth; }
        
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-up { animation: fadeUp 1s ease-out forwards; }
        
        @keyframes scaleIn {
            from { transform: scale(1.1); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .scale-in { animation: scaleIn 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        .luxury-gradient {
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
        }
        .nav-blur {
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
        .img-zoom {
            transition: transform 2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .group:hover .img-zoom {
            transform: scale(1.1);
        }
        
        .loader {
            border: 1px solid rgba(0,0,0,0.1);
            border-top: 1px solid #000;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        body.cart-open { overflow: hidden; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.4",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "firebase/": "https://esm.sh/firebase@^12.8.0/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

    <!-- React and Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const BRAND_NAME = "BBOX BRAND";
        const CURRENCY = "Rs.";
        const WHATSAPP_NUMBER = "923358211166";
        const CATEGORIES = ['ALL', 'T-SHIRTS', 'TRACK SUITS', 'HOODIES', 'SWEATERS'];

        const firebaseConfig = {
            apiKey: "AIzaSyCMSAjTaf9FK2YTgfFpt8kXC4XClAoHHdw",
            authDomain: "bboxbrand-b7f60.firebaseapp.com",
            projectId: "bboxbrand-b7f60",
            storageBucket: "bboxbrand-b7f60.firebasestorage.app",
            messagingSenderId: "678435815084",
            appId: "1:678435815084:web:dd52ee29b19adea3146989"
        };

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const Navbar = ({ cartCount, onCartOpen }) => {
            const [scrolled, setScrolled] = useState(false);
            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <nav className={`fixed top-0 w-full z-50 transition-all duration-1000 ${scrolled ? 'bg-white/95 nav-blur h-16 border-b' : 'bg-transparent h-24'}`}>
                    <div className="max-w-7xl mx-auto h-full px-6 flex justify-between items-center">
                        <h1 onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})} className={`font-serif text-3xl font-black tracking-widest cursor-pointer transition-colors ${scrolled ? 'text-black' : 'text-white'}`}>BBOX</h1>
                        <button onClick={onCartOpen} className="relative p-2 group">
                            <svg className={`w-6 h-6 transition-colors ${scrolled ? 'text-black' : 'text-white'}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                            </svg>
                            {cartCount > 0 && (
                                <span className={`absolute top-0 right-0 text-[8px] font-bold w-4 h-4 rounded-full flex items-center justify-center ${scrolled ? 'bg-black text-white' : 'bg-white text-black'}`}>{cartCount}</span>
                            )}
                        </button>
                    </div>
                </nav>
            );
        };

        const CartDrawer = ({ isOpen, setIsOpen, cart, removeFromCart, updateQty, total }) => {
            if (!isOpen) return null;
            const handleCheckout = () => {
                let message = `*NEW ORDER - ${BRAND_NAME}*%0A%0A`;
                cart.forEach((item, index) => { message += `${index + 1}. *${item.name}*%0A   Qty: ${item.qty}%0A   Total: ${CURRENCY}${(item.price * item.qty).toLocaleString()}%0A%0A`; });
                message += `*ORDER TOTAL:* ${CURRENCY}${total.toLocaleString()}%0A%0APlease process this request.`;
                window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${message}`, '_blank');
            };

            return (
                <div className="fixed inset-0 z-[100] flex justify-end">
                    <div className="absolute inset-0 bg-black/40 backdrop-blur-sm" onClick={() => setIsOpen(false)} />
                    <div className="relative w-full max-w-lg bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500">
                        <div className="p-10 border-b flex justify-between items-center bg-zinc-50">
                            <h2 className="text-xl font-serif font-bold uppercase tracking-widest">Shopping Bag</h2>
                            <button onClick={() => setIsOpen(false)}><svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="1" d="M6 18L18 6M6 6l12 12" /></svg></button>
                        </div>
                        <div className="flex-1 overflow-y-auto p-10 space-y-10 no-scrollbar">
                            {cart.length === 0 ? <div className="h-full flex flex-col items-center justify-center text-zinc-400 italic">Bag is currently empty.</div> : 
                                cart.map(item => (
                                    <div key={item.id} className="flex space-x-6 border-b border-zinc-100 pb-10">
                                        <div className="w-24 aspect-[3/4] bg-zinc-100 overflow-hidden"><img src={item.imageUrl} className="w-full h-full object-cover grayscale" alt={item.name} /></div>
                                        <div className="flex-1 flex flex-col justify-between">
                                            <div className="flex justify-between items-start">
                                                <div><h4 className="text-[11px] font-black uppercase tracking-widest">{item.name}</h4><p className="text-[9px] text-zinc-400 font-bold uppercase mt-1">{item.category}</p></div>
                                                <button onClick={() => removeFromCart(item.id)} className="text-zinc-300 hover:text-black">Ã—</button>
                                            </div>
                                            <div className="flex justify-between items-end">
                                                <div className="flex items-center space-x-6 border px-3 py-1 text-xs font-bold">
                                                    <button onClick={() => updateQty(item.id, -1)}>-</button><span>{item.qty}</span><button onClick={() => updateQty(item.id, 1)}>+</button>
                                                </div>
                                                <p className="text-xs font-black">{CURRENCY}{(item.price * item.qty).toLocaleString()}</p>
                                            </div>
                                        </div>
                                    </div>
                                ))
                            }
                        </div>
                        {cart.length > 0 && (
                            <div className="p-10 border-t bg-zinc-50 space-y-6">
                                <div className="flex justify-between font-bold text-sm uppercase tracking-[0.2em]"><span>Subtotal</span><span className="text-xl font-black">{CURRENCY}{total.toLocaleString()}</span></div>
                                <button onClick={handleCheckout} className="w-full bg-black text-white py-6 text-[10px] font-bold uppercase tracking-[0.5em] hover:bg-zinc-800 transition-all">Confirm via WhatsApp</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [products, setProducts] = useState([]);
            const [cart, setCart] = useState([]);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [activeCat, setActiveCat] = useState('ALL');
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                const unsubscribe = db.collection('products').orderBy('createdAt', 'desc').onSnapshot((snap) => {
                    setProducts(snap.docs.map(doc => ({ id: doc.id, ...doc.data() })));
                    setLoading(false);
                }, () => setLoading(false));
                return () => unsubscribe();
            }, []);

            const addToCart = (p) => {
                setCart(prev => {
                    const exists = prev.find(i => i.id === p.id);
                    if (exists) return prev.map(i => i.id === p.id ? { ...i, qty: i.qty + 1 } : i);
                    return [...prev, { ...p, qty: 1 }];
                });
                setIsCartOpen(true);
            };

            const filteredProducts = activeCat === 'ALL' ? products : products.filter(p => p.category === activeCat);
            const cartTotal = cart.reduce((acc, i) => acc + (i.price * i.qty), 0);

            return (
                <div className={`min-h-screen flex flex-col ${isCartOpen ? 'cart-open' : ''}`}>
                    <Navbar cartCount={cart.reduce((a, c) => a + c.qty, 0)} onCartOpen={() => setIsCartOpen(true)} />
                    <CartDrawer isOpen={isCartOpen} setIsOpen={setIsCartOpen} cart={cart} removeFromCart={id => setCart(cart.filter(i => i.id !== id))} updateQty={(id, d) => setCart(cart.map(i => i.id === id ? { ...i, qty: Math.max(1, i.qty + d) } : i))} total={cartTotal} />
                    
                    <header className="relative h-screen bg-black flex items-center justify-center overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&q=80&w=2000" className="absolute inset-0 w-full h-full object-cover opacity-50 grayscale scale-in" alt="Hero" />
                        <div className="absolute inset-0 luxury-gradient" />
                        <div className="relative text-center text-white px-6 space-y-10">
                            <p className="text-[10px] uppercase tracking-[1.2em] opacity-70 fade-up">Stealth Luxury Collective</p>
                            <h2 className="text-6xl md:text-[10rem] font-serif italic leading-none tracking-tighter fade-up">BBox Brand</h2>
                            <div className="pt-10 fade-up"><button onClick={() => document.getElementById('catalog').scrollIntoView({behavior: 'smooth'})} className="px-16 py-6 border border-white/20 text-[10px] uppercase font-bold tracking-[0.5em] hover:bg-white hover:text-black transition-all duration-700">Explore Collection</button></div>
                        </div>
                    </header>

                    <main id="catalog" className="max-w-[1440px] mx-auto px-6 py-40">
                        <div className="flex flex-col md:flex-row justify-between items-center mb-32 border-b border-zinc-100 pb-16">
                            <div className="flex space-x-12 overflow-x-auto pb-4 no-scrollbar">
                                {CATEGORIES.map(cat => (
                                    <button key={cat} onClick={() => setActiveCat(cat)} className={`text-[10px] font-bold uppercase tracking-[0.4em] whitespace-nowrap transition-all ${activeCat === cat ? 'text-black border-b border-black pb-2' : 'text-zinc-300 hover:text-black'}`}>{cat}</button>
                                ))}
                            </div>
                            <p className="text-[10px] font-bold uppercase tracking-[0.5em] text-zinc-300 mt-10 md:mt-0">{products.length} Articles Available</p>
                        </div>

                        {loading ? <div className="py-60 flex flex-col items-center justify-center space-y-6"><div className="loader"></div><p className="text-[9px] uppercase tracking-[0.5em] text-zinc-400">Syncing Warehouse...</p></div> : 
                            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-12 gap-y-40">
                                {filteredProducts.map(p => (
                                    <div key={p.id} className="group">
                                        <div className="aspect-[3/4] overflow-hidden bg-zinc-50 relative">
                                            <img src={p.imageUrl} className="w-full h-full object-cover grayscale group-hover:grayscale-0 img-zoom" alt={p.name} />
                                            <div className="absolute inset-x-0 bottom-0 p-8 opacity-0 group-hover:opacity-100 transition-all translate-y-10 group-hover:translate-y-0">
                                                <button onClick={() => addToCart(p)} className="w-full bg-black text-white py-6 text-[9px] font-bold uppercase tracking-[0.4em] shadow-2xl hover:bg-zinc-800 transition-colors">Add To Bag</button>
                                            </div>
                                        </div>
                                        <div className="mt-10 text-center space-y-3">
                                            <p className="text-[8px] text-zinc-400 font-bold uppercase tracking-[0.4em]">{p.category}</p>
                                            <h3 className="text-[11px] font-bold uppercase tracking-[0.2em] leading-relaxed line-clamp-2 px-2 h-8">{p.name}</h3>
                                            <p className="text-sm font-black text-zinc-900">{CURRENCY}{p.price.toLocaleString()}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        }
                    </main>

                    <footer className="bg-black text-white py-20 px-6 mt-40">
                        <div className="max-w-7xl mx-auto flex flex-col items-center space-y-10">
                            <h4 className="font-serif text-3xl font-bold uppercase tracking-[0.5em]">{BRAND_NAME}</h4>
                            <p className="text-[9px] text-zinc-600 tracking-[0.8em] uppercase">&copy; 2024 INTERNATIONAL HOLDINGS</p>
                        </div>
                    </footer>
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
